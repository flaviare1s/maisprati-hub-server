spring.data.mongodb.uri=${MONGO_URI}
spring.data.mongodb.database=backend-prod
spring.jpa.hibernate.ddl-auto=validate
jwt.access-token-expiration=3600
jwt.refresh-token-expiration=604800
server.forward-headers-strategy=FRAMEWORK
server.port=${PORT:8080}

# Reduz uso de memória
spring.jpa.open-in-view=false
spring.jpa.properties.hibernate.jdbc.batch_size=20
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true

# Desabilita métricas desnecessárias
management.metrics.enable.jvm=false
management.metrics.enable.process=false
management.metrics.enable.system=false

# Logs mais leves
logging.level.root=WARN
logging.level.org.springframework=WARN
logging.level.org.hibernate=ERROR

# Reduz threads (menos memória)
server.tomcat.threads.max=50
server.tomcat.threads.min-spare=10

# Timeout de sessão menor (libera memória mais rápido)
server.servlet.session.timeout=10m

# Força OAuth2 a não usar sessões
spring.session.store-type=none